<!DOCTYPE html>
<!-- ================================================================
  üá≠üáπ Krey√≤lAI Academy ‚Äî Course Platform (30 Jou AI)
  ================================================================
  HOW IT WORKS:
  1. User fills name/email/password ‚Üí account saved in browser
  2. They see 30 lessons organised by week
  3. Each lesson has content + action task
  4. At the end: quiz + certificate with their name

  üîë KEY THINGS TO EDIT:
  ‚Ä¢ Course content (lessons): Search "COURSE DATA" below
  ‚Ä¢ Add/remove a lesson:       Find the lessons[] array
  ‚Ä¢ Change quiz questions:     Search "QUIZ" section
  ‚Ä¢ Change certificate text:   Search "CERTIFICATE" section
  ‚Ä¢ Email notifications:       Search "formspree.io"

  ‚ö†Ô∏è  DO NOT EDIT: The SUPABASE lines (not connected, safe to ignore)
  ================================================================ -->
<html lang="ht">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Krey√≤lAIHub ‚Äî Platf√≤m Aprann 30 Jou AI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
  /* ================================================
     üé® COLORS ‚Äî Same brand colors as landing page
     Change --blue, --gold to update the whole app
     ================================================ */
    :root {
      --navy: #0B1C2D; --navy-mid: #0f2540; --navy-light: #162f4a;
      --blue: #1E90FF; --gold: #F5B942; --white: #F0F6FF;
      --white-dim: rgba(240,246,255,0.65);
      --white-faint: rgba(240,246,255,0.07);
      --success: #22c55e; --border: rgba(30,144,255,0.15);
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body { font-family: 'DM Sans', sans-serif; background: var(--navy); color: var(--white); overflow-x: hidden; }
    h1,h2,h3,h4 { font-family: 'Syne', sans-serif; line-height: 1.2; }

    /* ===== AUTH GATE ===== */
    #auth-gate {
      position: fixed; inset: 0; z-index: 500;
      background: var(--navy);
      display: flex; align-items: center; justify-content: center;
      padding: 2rem;
    }
    #auth-gate.hidden { display: none; }
    .auth-card {
      background: var(--navy-light); border: 1px solid var(--border);
      border-radius: 28px; padding: 3rem; width: 100%; max-width: 480px;
      text-align: center;
    }
    .auth-card .logo { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.6rem; margin-bottom: 0.25rem; }
    .auth-card .logo span { color: var(--gold); }
    .auth-card .tagline { color: var(--white-dim); font-size: 0.85rem; margin-bottom: 2rem; }
    .auth-tabs { display: flex; border: 1px solid var(--border); border-radius: 50px; overflow: hidden; margin-bottom: 1.5rem; }
    .auth-tab { flex: 1; padding: 0.65rem; cursor: pointer; font-family: 'Syne', sans-serif; font-size: 0.88rem; font-weight: 700; transition: all 0.2s; color: var(--white-dim); text-align: center; }
    .auth-tab.active { background: var(--blue); color: #fff; }
    .form-group { display: flex; flex-direction: column; gap: 0.35rem; margin-bottom: 0.85rem; text-align: left; }
    .form-group label { font-size: 0.8rem; font-weight: 600; color: var(--white-dim); }
    .form-group input { background: rgba(255,255,255,0.06); border: 1px solid var(--border); color: var(--white); border-radius: 12px; padding: 0.75rem 1rem; font-size: 0.9rem; font-family: 'DM Sans', sans-serif; outline: none; transition: border-color 0.2s; width: 100%; }
    .form-group input:focus { border-color: var(--blue); }
    .btn-primary { background: linear-gradient(135deg, var(--blue), #0f6fdf); color: #fff; border: none; border-radius: 50px; padding: 0.85rem 2rem; font-size: 0.95rem; font-weight: 700; cursor: pointer; transition: all 0.25s; font-family: 'Syne', sans-serif; box-shadow: 0 0 25px rgba(30,144,255,0.35); width: 100%; margin-top: 0.5rem; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 0 40px rgba(30,144,255,0.5); }
    .auth-msg { padding: 0.7rem 1rem; border-radius: 10px; font-size: 0.85rem; margin-bottom: 0.75rem; display: none; }
    .auth-msg.error { background: rgba(239,68,68,0.15); border: 1px solid rgba(239,68,68,0.3); color: #fca5a5; }
    .auth-msg.success { background: rgba(34,197,94,0.15); border: 1px solid rgba(34,197,94,0.3); color: #86efac; }
    .back-link { display: block; margin-top: 1.25rem; color: var(--white-dim); font-size: 0.82rem; text-decoration: none; }
    .back-link:hover { color: var(--white); }

    /* ===== MAIN LAYOUT ===== */
    #app { display: none; min-height: 100vh; }
    #app.visible { display: flex; }

    /* ===== SIDEBAR ===== */
    .sidebar {
      width: 300px; flex-shrink: 0;
      background: var(--navy-mid);
      border-right: 1px solid var(--border);
      height: 100vh; position: sticky; top: 0;
      overflow-y: auto; display: flex; flex-direction: column;
    }
    .sidebar-header { padding: 1.5rem; border-bottom: 1px solid var(--border); }
    .sidebar-logo { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.1rem; }
    .sidebar-logo span { color: var(--gold); }
    .user-info { margin-top: 0.75rem; display: flex; align-items: center; gap: 0.75rem; }
    .user-avatar { width: 36px; height: 36px; background: linear-gradient(135deg, var(--blue), #0f6fdf); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem; flex-shrink: 0; }
    .user-name { font-size: 0.85rem; font-weight: 600; }
    .user-role { font-size: 0.75rem; color: var(--white-dim); }
    .progress-bar-outer { margin: 1rem 1.5rem; }
    .progress-label { display: flex; justify-content: space-between; font-size: 0.78rem; color: var(--white-dim); margin-bottom: 0.4rem; }
    .progress-bar { height: 6px; background: var(--white-faint); border-radius: 10px; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, var(--blue), var(--gold)); border-radius: 10px; transition: width 0.5s; }
    .sidebar-nav { padding: 0.75rem 0; flex: 1; }
    .nav-section-title { padding: 0.5rem 1.5rem; font-size: 0.7rem; font-weight: 700; color: var(--white-dim); letter-spacing: 0.1em; text-transform: uppercase; }
    .nav-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.65rem 1.5rem; cursor: pointer; transition: background 0.15s; font-size: 0.88rem; border-left: 3px solid transparent; }
    .nav-item:hover { background: var(--white-faint); }
    .nav-item.active { background: rgba(30,144,255,0.1); border-left-color: var(--blue); color: var(--white); }
    .nav-item.locked { opacity: 0.45; cursor: not-allowed; }
    .nav-item.done .check { color: var(--success); }
    .nav-item .day-num { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.8rem; color: var(--blue); min-width: 28px; }
    .nav-item .item-title { flex: 1; }
    .nav-item .check { font-size: 0.85rem; }
    .sidebar-footer { padding: 1rem 1.5rem; border-top: 1px solid var(--border); }
    .btn-sm { background: var(--white-faint); border: 1px solid var(--border); color: var(--white-dim); border-radius: 8px; padding: 0.5rem 0.75rem; font-size: 0.8rem; cursor: pointer; font-family: 'DM Sans', sans-serif; transition: all 0.2s; }
    .btn-sm:hover { border-color: var(--blue); color: var(--white); }

    /* ===== MAIN CONTENT ===== */
    .main-content { flex: 1; overflow-y: auto; padding: 2rem; max-width: 900px; }

    /* ===== LESSON VIEW ===== */
    .lesson-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 2rem; flex-wrap: gap; gap: 1rem; }
    .lesson-badge { background: rgba(30,144,255,0.12); border: 1px solid rgba(30,144,255,0.25); color: var(--blue); border-radius: 50px; padding: 0.3rem 0.85rem; font-size: 0.75rem; font-weight: 700; margin-bottom: 0.5rem; display: inline-block; }
    .lesson-title { font-size: clamp(1.5rem, 3vw, 2.2rem); font-weight: 800; }
    .lesson-quote { color: var(--gold); font-size: 0.95rem; font-style: italic; margin-top: 0.3rem; }
    .lesson-body { line-height: 1.8; color: var(--white-dim); }
    .lesson-body h3 { color: var(--white); font-size: 1.05rem; margin: 1.5rem 0 0.5rem; }
    .concept-box { background: var(--white-faint); border: 1px solid var(--border); border-radius: 16px; padding: 1.25rem; margin: 1rem 0; }
    .concept-box .concept-title { font-family: 'Syne', sans-serif; font-weight: 700; color: var(--blue); margin-bottom: 0.5rem; }
    .real-story { background: linear-gradient(135deg, rgba(30,144,255,0.06), rgba(245,185,66,0.04)); border-left: 3px solid var(--gold); border-radius: 0 16px 16px 0; padding: 1rem 1.25rem; margin: 1.25rem 0; }
    .real-story .story-label { font-size: 0.75rem; font-weight: 700; color: var(--gold); letter-spacing: 0.08em; margin-bottom: 0.4rem; }
    .action-box { background: rgba(34,197,94,0.06); border: 1px solid rgba(34,197,94,0.2); border-radius: 16px; padding: 1.25rem; margin: 1.25rem 0; }
    .action-box .action-label { font-size: 0.75rem; font-weight: 700; color: var(--success); letter-spacing: 0.08em; margin-bottom: 0.75rem; }
    .action-steps { list-style: none; display: flex; flex-direction: column; gap: 0.4rem; }
    .action-steps li { display: flex; gap: 0.5rem; font-size: 0.9rem; }
    .action-steps li::before { content: attr(data-n)'.'; color: var(--blue); font-weight: 700; min-width: 18px; }
    .code-block { background: #0a1628; border: 1px solid rgba(79,195,247,0.2); border-radius: 12px; padding: 1rem; margin: 1rem 0; font-family: 'Courier New', monospace; font-size: 0.85rem; color: #a5d6a7; overflow-x: auto; white-space: pre; }
    .nav-btns { display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap; }
    .btn-secondary { background: var(--white-faint); border: 1px solid var(--border); color: var(--white); border-radius: 50px; padding: 0.75rem 1.5rem; font-size: 0.9rem; font-weight: 600; cursor: pointer; font-family: 'Syne', sans-serif; transition: all 0.2s; }
    .btn-secondary:hover { border-color: var(--blue); }
    .complete-btn { background: linear-gradient(135deg, var(--success), #16a34a); color: #fff; border: none; border-radius: 50px; padding: 0.75rem 1.75rem; font-size: 0.9rem; font-weight: 700; cursor: pointer; font-family: 'Syne', sans-serif; }

    /* ===== QUIZ VIEW ===== */
    .kwiz-container { max-width: 680px; }
    .kwiz-header { margin-bottom: 2rem; }
    .kwiz-progress { display: flex; gap: 0.3rem; margin-bottom: 1rem; }
    .q-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--white-faint); transition: background 0.3s; }
    .q-dot.done { background: var(--success); }
    .q-dot.active { background: var(--blue); }
    .question-card { background: var(--white-faint); border: 1px solid var(--border); border-radius: 20px; padding: 2rem; margin-bottom: 1.5rem; }
    .question-text { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 1.1rem; margin-bottom: 1.25rem; line-height: 1.5; }
    .options { display: flex; flex-direction: column; gap: 0.75rem; }
    .option { display: flex; align-items: center; gap: 0.85rem; background: rgba(255,255,255,0.04); border: 1px solid var(--border); border-radius: 12px; padding: 0.85rem 1rem; cursor: pointer; transition: all 0.2s; font-size: 0.92rem; }
    .option:hover { border-color: rgba(30,144,255,0.4); background: rgba(30,144,255,0.06); }
    .option.selected { border-color: var(--blue); background: rgba(30,144,255,0.1); }
    .option.correct { border-color: var(--success); background: rgba(34,197,94,0.1); color: #86efac; }
    .option.wrong { border-color: #ef4444; background: rgba(239,68,68,0.08); color: #fca5a5; }
    .option .opt-letter { width: 28px; height: 28px; border: 1px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; flex-shrink: 0; }
    .option.selected .opt-letter { background: var(--blue); border-color: var(--blue); }
    .explanation { background: rgba(245,185,66,0.08); border: 1px solid rgba(245,185,66,0.2); border-radius: 12px; padding: 1rem; margin-top: 0.75rem; color: var(--gold); font-size: 0.88rem; display: none; }
    .score-card { text-align: center; padding: 3rem 2rem; }
    .score-ring { width: 120px; height: 120px; border-radius: 50%; border: 6px solid var(--border); margin: 0 auto 1.5rem; display: flex; align-items: center; justify-content: center; position: relative; }
    .score-ring .score-num { font-family: 'Syne', sans-serif; font-size: 2rem; font-weight: 800; }
    .score-ring.pass { border-color: var(--success); }
    .score-ring.fail { border-color: #ef4444; }

    /* ===== CERTIFICATE VIEW ===== */
    .cert-section { max-width: 700px; margin: 0 auto; }
    .cert-frame {
      border: 3px solid var(--blue); border-radius: 24px;
      background: linear-gradient(135deg, var(--navy-mid), rgba(30,144,255,0.06));
      padding: 3rem; text-align: center; margin: 2rem 0;
      position: relative;
    }
    .cert-frame::before {
      content: ''; position: absolute; inset: 6px; border: 1px solid rgba(30,144,255,0.25); border-radius: 18px; pointer-events: none;
    }
    .cert-frame .cert-brand { font-size: 0.75rem; letter-spacing: 0.15em; color: var(--blue); font-weight: 700; margin-bottom: 1rem; }
    .cert-frame .cert-heading { font-size: 1.2rem; color: var(--white-dim); margin-bottom: 0.5rem; }
    .cert-frame .cert-course { font-size: 2rem; font-weight: 800; color: var(--blue); margin-bottom: 0.25rem; }
    .cert-frame .cert-sub { color: var(--white-dim); font-size: 0.9rem; margin-bottom: 1.5rem; }
    .cert-frame hr { border: none; border-top: 1px solid var(--border); margin: 1.5rem auto; width: 80%; }
    .cert-frame .student-name { font-size: 1.8rem; font-weight: 800; color: var(--gold); margin: 0.5rem 0; }
    .cert-frame .cert-date { color: var(--white-dim); font-size: 0.82rem; }
    .cert-frame .cert-badge { font-size: 3rem; margin-bottom: 0.5rem; }
    .cert-frame .cert-footer { display: flex; justify-content: space-between; margin-top: 2rem; font-size: 0.75rem; color: var(--white-dim); }
    .cert-name-input { margin: 1.5rem auto; max-width: 380px; }
    .cert-name-input input { width: 100%; background: var(--white-faint); border: 1px solid var(--border); color: var(--white); border-radius: 12px; padding: 0.85rem 1.25rem; font-size: 1rem; text-align: center; font-family: 'Syne', sans-serif; font-weight: 700; outline: none; }
    .cert-name-input input:focus { border-color: var(--gold); }
    .cert-actions { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    .btn-gold { background: linear-gradient(135deg, var(--gold), #d49d30); color: #0B1C2D; border: none; border-radius: 50px; padding: 0.85rem 2rem; font-size: 0.95rem; font-weight: 700; cursor: pointer; font-family: 'Syne', sans-serif; }
    .locked-overlay { position: absolute; inset: 0; background: rgba(11,28,45,0.85); border-radius: 24px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 1rem; text-align: center; padding: 2rem; z-index: 5; }
    .locked-overlay h3 { font-size: 1.3rem; }
    .locked-overlay p { color: var(--white-dim); font-size: 0.9rem; max-width: 320px; }

    /* ===== DASHBOARD VIEW ===== */
    .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 1.25rem; margin-top: 1.5rem; }
    .week-card { background: var(--white-faint); border: 1px solid var(--border); border-radius: 18px; padding: 1.5rem; cursor: pointer; transition: all 0.2s; }
    .week-card:hover { border-color: rgba(30,144,255,0.4); transform: translateY(-3px); }
    .week-card .week-num { font-family: 'Syne', sans-serif; font-size: 2rem; font-weight: 800; color: var(--blue); }
    .week-card .week-title { font-weight: 600; margin: 0.25rem 0 0.5rem; }
    .week-card .week-days { font-size: 0.8rem; color: var(--white-dim); margin-bottom: 0.75rem; }
    .week-card .week-prog { height: 4px; background: var(--white-faint); border-radius: 10px; overflow: hidden; }
    .week-card .week-fill { height: 100%; background: var(--blue); border-radius: 10px; transition: width 0.4s; }
    .week-card.completed { border-color: rgba(34,197,94,0.3); }
    .week-card.completed .week-num { color: var(--success); }

    /* ===== TOAST ===== */
    #toast { position: fixed; bottom: 2rem; right: 2rem; z-index: 600; background: var(--success); color: #fff; padding: 1rem 1.5rem; border-radius: 12px; font-weight: 600; font-size: 0.9rem; transform: translateY(100px); transition: transform 0.4s; box-shadow: 0 8px 30px rgba(0,0,0,0.3); }

    @media (max-width: 768px) {
      .sidebar { display: none; }
      .main-content { padding: 1.25rem; }
    }
  </style>
</head>
<body>

<!-- ================================================
  üîê AUTH GATE ‚Äî Login/Signup screen
  Shows BEFORE the course loads
  ‚Ä¢ "Enskri Gratis" tab ‚Üí gateSignup() function
  ‚Ä¢ "Konekte" tab       ‚Üí gateLogin() function
  Both functions are in the JAVASCRIPT section below
  ================================================ -->
<div id="auth-gate">
  <div class="auth-card">
    <div class="logo">Krey√≤l<span>AI</span>Hub</div>
    <div class="tagline">Platf√≤m Aprann ‚Äî 30 Jou AI</div>
    <div class="auth-tabs">
      <div class="auth-tab active" id="gate-tab-signup" onclick="gateTab('signup')">Enskri Gratis</div>
      <div class="auth-tab" id="gate-tab-login" onclick="gateTab('login')">Konekte</div>
    </div>
    <div class="auth-msg" id="gate-msg"></div>
    <div id="gate-signup">
      <div class="form-group"><label>Non Konpl√®</label><input type="text" id="g-name" placeholder="Non ak Siyati ou" /></div>
      <div class="form-group"><label>Im√®l</label><input type="email" id="g-email" placeholder="im√®l@example.com" /></div>
      <div class="form-group"><label>Modpas (6 karakt√® min.)</label><input type="password" id="g-pass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" /></div>
      <button class="btn-primary" onclick="gateSignup()">Kreye Kont & K√≤manse ‚Üí</button>
    </div>
    <div id="gate-login" style="display:none">
      <div class="form-group"><label>Im√®l</label><input type="email" id="gl-email" placeholder="im√®l@example.com" /></div>
      <div class="form-group"><label>Modpas</label><input type="password" id="gl-pass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" /></div>
      <button class="btn-primary" onclick="gateLogin()">Konekte ‚Üí</button>
    </div>
    <a href="index.html" class="back-link">‚Üê Retounen nan paj prensipal la</a>
  </div>
</div>

<!-- ================================================
  üì± MAIN APP ‚Äî Only visible AFTER login
  Contains:
  ‚Ä¢ Left sidebar  ‚Üí lesson list + progress bar
  ‚Ä¢ Right content ‚Üí lesson/dashboard/quiz/certificate
  Everything inside is generated by JavaScript
  ================================================ -->
<div id="app">
  <!-- ================================================
  üìã SIDEBAR ‚Äî Left panel
  ‚Ä¢ Avatar + name (top)
  ‚Ä¢ Progress bar
  ‚Ä¢ Lesson list (generated by renderSidebar() JS function)
  ‚Ä¢ Bottom buttons: Dashboard, Quiz, Certificate
  ================================================ -->
  <div class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo">Krey√≤l<span>AI</span>Hub</div>
      <div class="user-info">
        <div class="user-avatar" id="user-avatar">S</div>
        <div>
          <div class="user-name" id="sidebar-name">El√®v</div>
          <div class="user-role">30 Jou AI</div>
        </div>
      </div>
    </div>
    <div class="progress-bar-outer">
      <div class="progress-label">
        <span>Pwogr√® Total</span>
        <span id="prog-pct">0%</span>
      </div>
      <div class="progress-bar"><div class="progress-fill" id="prog-bar" style="width:0%"></div></div>
    </div>
    <div class="sidebar-nav" id="sidebar-nav"><!-- Generated by JS --></div>
    <div class="sidebar-footer">
      <div style="display:flex;gap:0.5rem;flex-wrap:wrap">
        <button class="btn-sm" onclick="showView('dashboard')">üè† Ak√®y</button>
        <button class="btn-sm" onclick="showView('kwiz')">üìù Kiz Final</button>
        <button class="btn-sm" onclick="showView('cert')">üèÜ S√®tifika</button>
        <button class="btn-sm" onclick="logout()">üö™ S√≤ti</button>
      </div>
    </div>
  </div>

  <!-- ================================================
  üìÑ MAIN CONTENT ‚Äî Right panel
  Content is generated by JavaScript depending on what the user clicks:
  ‚Ä¢ showView("dashboard") ‚Üí renderDashboard()
  ‚Ä¢ showView("lesson")    ‚Üí renderLesson()
  ‚Ä¢ showView("kwiz")      ‚Üí renderKwiz()
  ‚Ä¢ showView("cert")      ‚Üí renderCert()
  ================================================ -->
  <div class="main-content" id="main-content"><!-- Rendered by JS --></div>
</div>

<div id="toast">‚úì <span id="toast-msg">Done!</span></div>

<script>
// ================================================
// ‚öôÔ∏è  SUPABASE CONFIG ‚Äî Optional database (not required)
// ================================================
// The site works 100% WITHOUT Supabase using localStorage
// Only set this up if you want accounts to persist across devices
// For now: leave these as-is, everything works fine
// ================================================
const SUPABASE_URL = 'https://YOUR_PROJECT.supabase.co';
const SUPABASE_KEY = 'YOUR_ANON_KEY';
let sb = null;
try { sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY); } catch {}

// ================================================
// üìö COURSE DATA ‚Äî THIS IS WHERE YOUR LESSONS LIVE
// ================================================
// Each lesson has:
//   day:     lesson number (1-30)
//   title:   lesson title (shown in sidebar)
//   emoji:   icon shown next to title
//   content: HTML content shown when user opens lesson
//   action:  the daily challenge at the bottom
//
// ‚úèÔ∏è  TO EDIT A LESSON: Find the day number, change title/content/action
// ‚ûï  TO ADD A LESSON: Copy a lesson block, change the day number
// ================================================
const WEEKS = [
  { num: 1, title: 'Fondasyon AI', days: '1‚Äì5', color: '#1E90FF' },
  { num: 2, title: 'Mod√®l ak Tip Aprantisaj', days: '6‚Äì10', color: '#9b5cf6' },
  { num: 3, title: 'Zouti Pratik ak Etik', days: '11‚Äì15', color: '#F5B942' },
  { num: 4, title: 'Zouti AI Avanse', days: '16‚Äì20', color: '#22c55e' },
  { num: 5, title: 'Teknik Avanse', days: '21‚Äì25', color: '#ef4444' },
  { num: 6, title: 'Aplikasyon ak Laveni', days: '26‚Äì30', color: '#06b6d4' },
];

const LESSONS = [
  { day: 1, week: 1, title: 'Ki sa ki AI?', quote: '"AI ap chanje mond lan... √®ske w pare?"',
    content: `<p>AI (Ent√®lijans Atifisy√®l) se sist√®m √≤dinat√® ki ka aprann nan done epi pran desizyon tankou yon moun ‚Äî men pi vit ak pi konsistan.</p>`,
    concepts: [
      { title: 'Aprann nan done', body: 'AI gade anpil egzanp pou li konprann mod√®l. Li pa bezwen yon moun eksplike l chak r√®g.' },
      { title: 'Rekon√®t mod√®l', body: 'Li w√® regilarite nan enf√≤masyon epi li rekon√®t yo pou pran pi bon desizyon.' },
      { title: 'Pran desizyon', body: 'Li ka chwazi pi bon opsyon baze sou sa li te aprann anvan.' },
    ],
    story: { who: 'Digicel Ayiti', text: 'Digicel itilize AI pou detekte frode nan tranzaksyon mobil. Chak jou, li analize milyon transaksyon epi bloke aktivite sisp√®k.' },
    action: { steps: ['Ouvri WhatsApp sou telef√≤n ou', 'Ch√®che "Meta AI"', 'Di: "Bonjou, ki sa ou ka f√® pou mwen?"', 'Ekri nan k√≤mant√®: "Mwen f√® l!"'] }
  },
  { day: 2, week: 1, title: 'Kijan AI Aprann?', quote: '"Machin yo aprann tankou timoun... men pi vit!"',
    content: `<p>AI aprann atrav√® yon pwosesis ki gen 3 etap kle: gade egzanp, jwenn mod√®l, epi korije er√® yo.</p>`,
    concepts: [
      { title: 'Etap 1: Gade anpil egzanp', body: 'AI gade plizy√® milyon egzanp pou li kapab w√® diferan ka.' },
      { title: 'Etap 2: Jwenn mod√®l ki repete', body: 'Li idantifye sa ki sanble nan done yo ‚Äî tankou nou rekon√®t figi fanmi nou.' },
      { title: 'Etap 3: Korije er√®', body: 'Li ajiste chak fwa li f√® yon er√®, tankou yon timoun k ap aprann mache.' },
    ],
    story: { who: 'Marie nan Delma', text: 'Marie te bouke ak spam nan im√®l li. Apre k√®k sem√®n, filt√® AI a aprann sa li pa vle. Kounye a inbox li pi pw√≤p.' },
    action: { steps: ['Ouvri YouTube ou', 'Gade 3 videyo sou nenp√≤t sij√®', 'Remake: rek√≤mandasyon yo pral chanje!', 'Sa se AI k ap aprann preferans ou'] }
  },
  { day: 3, week: 1, title: 'Ki kote AI Itilize?', quote: '"AI toupatou... men ou pa w√® l!"',
    content: `<p>AI pa s√®lman nan telef√≤n entelijan yo. Li nan bank ou, lopital, GPS ou, ak anpil l√≤t kote ou pa t imajine.</p>`,
    concepts: [
      { title: 'üè• Sante', body: 'AI li radyografi pou detekte maladi. Lopital ki s√®vi kominote Ayisyen itilize sa.' },
      { title: 'üí∞ Finans (MonCash)', body: 'MonCash itilize AI pou verifye tranzaksyon epi pwoteje kont ou kontra frode.' },
      { title: 'üöó Transp√≤ (GPS)', body: 'GPS nan P√≤toprens itilize AI pou chwazi pi bon wout selon trafik an tan rey√®l.' },
    ],
    story: { who: 'Nadia nan Jakm√®l', text: 'Nadia itilize GPS chak jou pou livrezon. AI chwazi wout ki pi rapid selon trafik. Li rive a l√® pi souvan.' },
    action: { steps: ['Ekri nan k√≤mant√®: "AI ka ede Ayiti ak ____"', 'Ranplase ____ ak yon lide ou p√®son√®l', 'üá≠üáπ Ayiti kapab!'] }
  },
  { day: 4, week: 1, title: 'Ki sa ki Done?', quote: '"DONE = manje AI. San done, AI grangou!"',
    content: `<p>Chak foto ou pran, chak mesaj ou voye, chak achte ou f√® ‚Äî tout sa se done. Done se baz tout aprantisaj AI.</p>`,
    concepts: [
      { title: 'Types de done', body: 'Foto ak imaj ‚Ä¢ T√®ks ak mesaj ‚Ä¢ Son ak vwa ‚Ä¢ Nimewo ak statistik ‚Ä¢ Videyo' },
      { title: 'Done Krey√≤l enp√≤tan', body: 'Plis nou ekri an Krey√≤l, plis AI ka aprann lang nou. Chak mesaj WhatsApp an Krey√≤l ede!' },
    ],
    story: { who: 'Rico nan Gona√Øves', text: 'Rico f√® ti biznis. Li k√≤manse kenbe done lavant li yo chak jou. Sa ede l konprann ki pwodwi ki vann pi byen.' },
    action: { steps: ['Gade galri telef√≤n ou', 'Idantifye 3 kalite done ou genyen', 'Ekri: Foto / T√®ks / Son / Videyo', 'Sonje: chak foto = done pou AI!'] }
  },
  { day: 5, week: 1, title: 'Kijan AI Pran Desizyon?', quote: '"AI pa panse... AI KALKILE!"',
    content: `<p>AI pa gen yon "s√®vo" tankou nou. Li kalkile pwobabilite ak pran pi bon chwa baze sou done li te w√® anvan.</p>`,
    concepts: [
      { title: 'Etap 1: Gade done ki antre', body: 'Li resevwa enf√≤masyon ou ba li ‚Äî t√®ks, imaj, oswa son.' },
      { title: 'Etap 2: Konpare ak mod√®l', body: 'Li konpare ak tout egzanp li te w√® pandan f√≤masyon li.' },
      { title: 'Etap 3: Kalkile pwobabilite', body: 'Li chwazi repons ki gen pi wo pousantaj k√≤r√®ktite.' },
    ],
    story: { who: 'Klavye ou chak jou', text: 'L√® ou tape "Mwen vle..." klavye ou sijere mo ansuit. Se AI k ap kalkile ki mo sanble plis selon sa ou ekri.' },
    action: { steps: ['Ouvri im√®l oswa WhatsApp', 'Tape "Mwen vle..." epi rete', 'Gade 3 mo AI sijere yo', 'Remake: se pwobabilite ki deside!'] }
  },
  { day: 6, week: 2, title: 'Ki sa ki yon Mod√®l AI?', quote: '"Chak AI gen s√®vo espesyalize..."',
    content: `<p>Yon mod√®l AI se yon "s√®vo" espesyalize pou yon travay espesifik. Mod√®l tradiksyon pa menm jan ak mod√®l imaj.</p>`,
    concepts: [
      { title: 'Mod√®l Tradiksyon', body: 'ChatGPT, Google Translate ‚Äî espesyalize pou konprann ak tradui lang.' },
      { title: 'Mod√®l Vizaj', body: 'FaceID, Google Photos ‚Äî espesyalize pou rekon√®t figi ak idantifye moun.' },
      { title: 'Mod√®l Mizik', body: 'Spotify AI ‚Äî espesyalize pou rek√≤mande ak jeneere mizik.' },
    ],
    story: { who: 'Sonia nan Brooklyn', text: 'Sonia bezwen tradui dokiman. Li itilize mod√®l tradiksyon, pa mod√®l imaj. Rezilta: repons pi bon ak pi presi.' },
    action: { steps: ['Teste 2 zouti AI diferan jodi a', 'Tradui yon fraz ak Google Translate', 'Rekon√®t yon obj√® ak Google Lens', 'Ki diferans ou w√®?'] }
  },
  { day: 7, week: 2, title: 'Ki sa ki yon Algoritm?', quote: '"Algoritm se res√®t magik AI..."',
    content: `<p>Yon algoritm se yon seri etap ki dwe suiv nan yon l√≤d espesifik pou rezoud yon pwobl√®m. Tankou res√®t Soup Joumou!</p>`,
    concepts: [
      { title: 'L√≤d enp√≤tan', body: 'Etap dwe nan bon l√≤d. Si ou bwi jiwoumn anvan ou bouyi vyann ‚Äî soupe a pa bon!' },
      { title: 'Presizyon enp√≤tan', body: 'Chak detay konte. Si yon etap manke, sist√®m nan ka bloke.' },
    ],
    story: { who: 'Junior nan P√≤toprens', text: 'Junior f√® livrezon. Li suiv etap (algoritm): pran k√≤mand ‚Üí verifye adr√®s ‚Üí kalkile pri ‚Üí livre. Sa diminye er√® pa 80%.' },
    action: { steps: ['Ekri algoritm ou pou prepare manje Ayisyen', 'Tankou: Bouyi vyann ‚Üí Kale jiwoumn ‚Üí Melanje', 'Si w chanje l√≤d ‚Üí pwobl√®m!'] }
  },
  { day: 8, week: 2, title: 'Machine Learning', quote: '"Machin ki aprann san ou pa montre l tout..."',
    content: `<p>Machine Learning (ML) se branch AI kote machin aprann nan done san yo pa bezwen pwograme yo eksplisite.</p>`,
    concepts: [
      { title: 'ML = AI aprann ak done', body: 'Pa bezwen ekri tout r√®g. AI li w√® p√†t√®n nan done epi li f√® r√®g li menm.' },
      { title: 'Egzanp: Filt√® Spam', body: 'Im√®l ou ka klase spam otomatikman paske ML te aprann p√†t√®n mesaj move yo.' },
    ],
    code: `# Egzanp senp Machine Learning (Python)
from sklearn.neighbors import KNeighborsClassifier

# Done: [depans_mwa, sal√®] ‚Üí [spam: 1 = wi, 0 = non]
X_train = [[100, 500], [50, 200], [2000, 100]]
y_train = [0, 0, 1]  # 0=bon, 1=spam

mod√®l = KNeighborsClassifier(n_neighbors=1)
mod√®l.fit(X_train, y_train)
print(mod√®l.predict([[1500, 80]]))  # ‚Üí [1] (spam!)
# Eseye sou: colab.research.google.com (GRATIS!)`,
    story: { who: 'Claudine nan Lond', text: 'Claudine s√®vi ak AI pou klase email yo. Sist√®m nan aprann preferans li. Li ekonomize 30-60 minit chak jou.' },
    action: { steps: ['Chwazi 1 app ki rek√≤mande bagay (YouTube, Netflix)', 'Gade: kijan li konnen sa ou renmen?', 'Sa se ML k ap travay!', '‚Üí Eseye k√≤d sou colab.research.google.com'] }
  },
  { day: 9, week: 2, title: 'Deep Learning', quote: '"Aprantisaj ki fon... pi pwisan!"',
    content: `<p>Deep Learning se yon kalite ML ki itilize "couches" (kouch) plizy√® nan rezo newonal pou rezoud pwobl√®m konpl√®ks.</p>`,
    concepts: [
      { title: 'Deep Learning = ML + anpil kouch', body: 'Plis kouch = plis kapasite = pi bon rezilta sou travay konpl√®ks.' },
      { title: 'Kote DL enp√≤tan', body: 'Rekon√®t figi ‚Ä¢ Konprann vwa ‚Ä¢ Tradui lang konpl√®ks ‚Ä¢ Detekte maladi' },
    ],
    code: `# Rezo Newonal Senp ak TensorFlow (gratis sou Colab)
import tensorflow as tf

mod√®l = tf.keras.Sequential([
    tf.keras.layers.Dense(128, activation='relu'),  # Kouch 1
    tf.keras.layers.Dense(64, activation='relu'),   # Kouch 2
    tf.keras.layers.Dense(1, activation='sigmoid')  # Kouch final
])
# Plis kouch = plis "ent√®lijans" pou pwobl√®m konpl√®ks
print("Mod√®l pare!")`,
    story: { who: 'Dokt√® Pierre nan Kap-Ayisyen', text: 'Dokt√® Pierre itilize aplikasyon DL pou li imaj medikal. Li ede l idantifye siy maladi vit. Sa amelyore tretman.' },
    action: { steps: ['Ale sou Google Photos', 'Ch√®che yon moun ‚Äî remake: li gwoupe figi!', 'Sa se Deep Learning k ap travay', '‚Üí Eseye: playground.tensorflow.org'] }
  },
  { day: 10, week: 2, title: 'Rezo Newonal', quote: '"Rezo newonal = imite s√®vo moun..."',
    content: `<p>Rezo Newonal Atifisy√®l imite fason n√®won s√®vo imen yo travay. Yo aprann nan koneksyon antre n√≤d.</p>`,
    concepts: [
      { title: 'N√≤d konekte tankou n√®won', body: 'Chak n√≤d resevwa enf√≤masyon, trete li, epi pase l al kote pwochen.' },
      { title: 'Egzanp rey√®l', body: 'Foto ‚Üí rezo w√® kouche, b√≤, koul√® ‚Üí idantifye obj√®. Vwa ‚Üí rezo tande son ‚Üí konv√®ti an t√®ks.' },
    ],
    code: `# Vizualize Rezo Newonal OU MENM
# Ale sou: playground.tensorflow.org
# Ou ka:
# 1. Chwazi nimewo kouch
# 2. Ajoute / retire n√≤d
# 3. W√® kijan AI a aprann an tan rey√®l!
# Epi pou mod√®l Krey√≤l:
# ‚Üí huggingface.co/spaces (Mod√®l gratis)`,
    story: { who: 'Wendy nan Monreyal', text: 'Wendy itilize app transkipsyon vwa. Li pale, epi app la ekri. Se rezo newonal k ap konv√®ti vwa an t√®ks pou li.' },
    action: { steps: ['Ale sou playground.tensorflow.org', 'Gade rezo a aprann', 'Eseye chanje nimewo kouch', 'Pataje sa ou w√®!'] }
  },
  // Continuing weeks 3-6 (simplified for space)
  { day: 11, week: 3, title: 'Supervised Learning', quote: '"Aprann ak pwofes√®... san pwofes√®!"',
    content: `<p>Supervised Learning se kalite ML kote ou montre AI done ki deja gen repons k√≤r√®kt. Li aprann pou predi repons nouvo done.</p>`,
    concepts: [
      { title: 'Done etikete', body: 'Ou montre AI: "Sa se spam", "Sa se pa spam". Li aprann diferans lan.' },
      { title: 'Egzanp', body: 'Email: Spam vs Non-spam ‚Ä¢ Bank: N√≤mal vs Frode ‚Ä¢ Foto: Chat vs Chen' },
    ],
    story: { who: 'Nadia nan Delma', text: 'Bank Nadia itilize Supervised Learning pou detekte frode. Mod√®l la aprann sou milyon tranzaksyon etikete "n√≤mal" ak "frode".' },
    action: { steps: ['Panse a 1 pwobl√®m ou genyen', 'Ki done ou ta ka etikete?', 'Egzanp: bon kliyan vs move kliyan'] }
  },
  { day: 12, week: 3, title: 'Unsupervised Learning', quote: '"AI ki dekouvri sa ou pa t konnen..."',
    content: `<p>Unsupervised Learning se kote AI gwoupe done ki sanble san ou pa di li ki repons k√≤r√®kt. Li dekouvri p√†t√®n kache.</p>`,
    concepts: [
      { title: 'Gwoupman otomatik', body: 'Netflix gwoupe itilizat√® ak preferans ki sanble ‚Äî san yo pa di: "Mete moun sa yo ansanm".' },
      { title: 'Kote li itil', body: 'Segmante kliyan ‚Ä¢ Gwoupe foto ‚Ä¢ Dekouvri p√†t√®n achte ‚Ä¢ Detekte anomali' },
    ],
    story: { who: 'Kenley nan P√®tion-Vil', text: 'Kenley te sezi l√® telef√≤n li gwoupe foto fanmi yo otomatikman. P√®sonn pa di AI a kiy√®s ki kiy√®s ‚Äî li jwenn sa pou kont li.' },
    action: { steps: ['Ouvri Google Photos ou', 'Gade seksyon "People"', 'Ki kijan li gwoupe figi yo?', 'Sa se Unsupervised Learning!'] }
  },
  { day: 13, week: 3, title: 'Reinforcement Learning', quote: '"Aprann nan er√®... tankou jw√® ech√®k!"',
    content: `<p>Reinforcement Learning se kote AI aprann pou maximize "rekonpans" atrav√® eseye-er√®. Li amelyore chak fwa li eseye.</p>`,
    concepts: [
      { title: 'Sist√®m rekonpans', body: 'AI resevwa pwen pou bon aksyon, penalite pou move aksyon. Li aprann pou jwenn plis pwen.' },
      { title: 'Egzanp', body: 'Jw√®t ech√®k ‚Ä¢ Robot aspirat√® ‚Ä¢ GPS optimizasyon wout ‚Ä¢ Asistan vwa' },
    ],
    story: { who: 'Junior nan P√≤toprens', text: 'Junior renmen jw√®t sou telef√≤n. AI a aprann pou genyen plis. Chak fwa li p√®di, li chanje estrateji. Tankou yon jw√® ech√®k ki etidye.' },
    action: { steps: ['Jwenn yon jw√®t ki ka pran desizyon (ech√®k, dame)', 'Remake: kijan li amelyore?', 'Sa se Reinforcement Learning!'] }
  },
  { day: 14, week: 3, title: 'Bias nan AI', quote: '"AI ka gen prejije tou... f√≤ nou veye!"',
    content: `<p>Bias nan AI se l√® mod√®l la produi rezilta ki pa jis oswa diskriminatwa paske done f√≤masyon yo pa te ekilibre.</p>`,
    concepts: [
      { title: 'Koze bias', body: 'Si done f√≤masyon yo montre "dokt√® = gason", AI pral asosye dokt√® ak gason otomatikman.' },
      { title: 'Bias ak Krey√≤l', body: 'Paske gen pi piti done an Krey√≤l, tradiksyon AI yo ka mwens presi. Se poukisa Krey√≤lAIHub travay!' },
    ],
    story: { who: 'Sonia', text: 'Sonia remake tradiksyon AI bay move sans pou k√®k ekspresyon Krey√≤l. Sa rive paske done tradiksyon an Krey√≤l yo limit.' },
    action: { steps: ['Mande ChatGPT yon kesyon sou Ayiti', 'Gade si repons la k√≤r√®kt', 'Ekri 1 bias ou w√® + 1 solisyon'] }
  },
  { day: 15, week: 3, title: 'Etik nan AI', quote: '"Pouvwa = responsabilite... itilize AI byen!"',
    content: `<p>Etik AI kons√®ne kijan nou dwe devlope ak itilize AI yon fason ki respekte dwa moun, jistis, ak sekirite.</p>`,
    concepts: [
      { title: 'R√®g fondamantal', body: 'Pa itilize AI pou manti, v√≤l, oswa scam. Pa pataje done moun san p√®misyon yo.' },
      { title: 'AI pou bien', body: 'Itilize AI pou ede moun, amelyore s√®vis, epi kreye op√≤tinite.' },
    ],
    story: { who: 'Marie', text: 'Marie gen biznis sou WhatsApp. Li itilize AI pou ekri mesaj pi kl√® ‚Äî san li pa twonpe kliyan. Sa bati konfyans ak fid√®lite.' },
    action: { steps: ['Ekri 1 r√®g etik ou pral swiv pou AI', 'Ekzanp: "Mwen p ap itilize AI pou twonpe moun"', 'Pataje r√®g ou a'] }
  },
  { day: 16, week: 4, title: 'Chatbot AI', quote: '"Yon asistan ki pa d√≤mi... 24/7!"',
    content: `<p>Chatbot AI se pwogram ki ka pale / ekri ak moun otomatikman, reponn kesyon, ak ede kliyan san poz.</p>`,
    concepts: [
      { title: 'Avantaj chatbot', body: 'Disponib 24/7 ‚Ä¢ Pa janm fatige ‚Ä¢ Reponn kesyon repetitif ‚Ä¢ Ekonomize tan' },
      { title: 'Kote itilize li', body: 'S√®vis kliyan ‚Ä¢ WhatsApp Biznis ‚Ä¢ Sit ent√®n√®t ‚Ä¢ Sip√≤ teknik' },
    ],
    story: { who: 'Marie nan Jakm√®l', text: 'Marie mete chatbot sou WhatsApp biznis li. Li reponn kesyon pri/or√®. Li vann plis paske li reponn pi vit ‚Äî menm lannwit!' },
    action: { steps: ['Ekri 5 kesyon kliyan toujou poze w', 'Sa yo se premye bagay pou yon chatbot', '‚Üí Eseye: ChatBase.co oswa Tidio.com'] }
  },
  { day: 17, week: 4, title: 'Computer Vision', quote: '"AI ki ka w√®... tankou je moun!"',
    content: `<p>Computer Vision se branch AI ki p√®m√®t machin "w√®" ak konprann imaj ak videyo ‚Äî rekon√®t obj√®, figi, ak t√®ks.</p>`,
    concepts: [
      { title: 'Rekon√®t figi', body: 'FaceID sou iPhone ‚Ä¢ Android Face Unlock ‚Ä¢ P√≤tal sekirite nan a√®p√≤' },
      { title: 'Rekon√®t t√®ks (OCR)', body: 'Google Lens pran foto yon t√®ks epi li li. Itil pou dokiman, res√®t, pankat.' },
    ],
    story: { who: 'Dokt√® Pierre', text: 'Dokt√® Pierre s√®vi ak app ki lit dokiman pa foto. Li pran foto papye a, app la ekstr√® t√®ks la. Li ekonomize anpil tan.' },
    action: { steps: ['Ouvri Google Lens (oswa Google Photos)', 'Pran foto yon t√®ks enprime', 'Gade si AI li l k√≤r√®ktman', 'Eseye ak t√®ks an Krey√≤l!'] }
  },
  { day: 18, week: 4, title: 'NLP ‚Äî Traitement Langaj Natir√®l', quote: '"AI ki konprann lang ou... nan Krey√≤l!"',
    content: `<p>NLP (Natural Language Processing) se branch AI ki p√®m√®t machin konprann, tradui, epi jeneere lang imen.</p>`,
    concepts: [
      { title: 'Sa NLP ka f√®', body: 'Tradui lang ‚Ä¢ Rezime t√®ks ‚Ä¢ Vwa ‚Üí T√®ks ‚Ä¢ Reponn kesyon ‚Ä¢ Detekte emosyon' },
      { title: 'NLP ak Krey√≤l', body: 'ChatGPT, Claude, ak Meta AI ka konprann k√®k Krey√≤l. Krey√≤lAIHub ap amelyore sa!' },
    ],
    story: { who: 'Sonia nan Brooklyn', text: 'Sonia tradui mesaj pou fanmi. NLP ede li pase Angl√® ‚Üí Krey√≤l pi rapid. Sa f√® kominikasyon fasil ak granmoun ki pa pale Angl√®.' },
    action: { steps: ['Ouvri Meta AI oswa ChatGPT', 'Di: "Rezime sa a an 3 pwen..."', 'Paste nenp√≤t t√®ks', 'Teste ak t√®ks an Krey√≤l!'] }
  },
  { day: 19, week: 4, title: 'Sentiman Analiz', quote: '"AI ki santi emosyon... nan t√®ks!"',
    content: `<p>Sentiman Analiz se kapasite AI pou detekte si yon t√®ks eksprime santiman pozitif, negatif, oswa netral.</p>`,
    concepts: [
      { title: 'Pozitif / Negatif / Netral', body: '"Manje a te bon!" ‚Üí Pozitif ‚úì ‚Ä¢ "S√®vis la te mal" ‚Üí Negatif ‚Ä¢ "Mwen te la" ‚Üí Netral' },
      { title: 'Itil pou biznis', body: 'Analize k√≤mant√® kliyan ‚Ä¢ Suiv repitasyon mak ou ‚Ä¢ W√® sa moun di sou ou' },
    ],
    story: { who: 'Wendy nan Monreyal', text: 'Wendy gen paj biznis Facebook. Li itilize AI pou analize k√≤mant√®. Li w√® k√≤mant√® negatif pi vit epi li reponn. S√®vis li amelyore.' },
    action: { steps: ['Pran 5 k√≤mant√® sou paj biznis ou (oswa zanmi ou)', 'Klase yo: Pozitif / Negatif / Netral', 'Eseye ak ChatGPT: "Ki santiman nan t√®ks sa?"'] }
  },
  { day: 20, week: 4, title: 'Generative AI', quote: '"AI ki ka KREYE... pa s√®lman analize!"',
    content: `<p>Generative AI se kalite AI ki ka KREYE nouvo kontni ‚Äî t√®ks, imaj, son, videyo ‚Äî baze sou sa ou mande li.</p>`,
    concepts: [
      { title: 'Sa ou ka kreye', body: 'L√®t biznis ‚Ä¢ Post rezo sosyal ‚Ä¢ Logo ak design ‚Ä¢ Script videyo ‚Ä¢ Mizik ‚Ä¢ K√≤d pwogram' },
      { title: 'Zouti pou kreye', body: 'ChatGPT / Claude (t√®ks) ‚Ä¢ Midjourney / DALL-E (imaj) ‚Ä¢ Suno (mizik) ‚Ä¢ Canva AI (design)' },
    ],
    story: { who: 'Tina nan Miami', text: 'Tina kreye 3 flyer pou biznis li an 1 z√®dtan. Anvan sa li te pran 1 jou. AI ede l ak lide, t√®ks, ak konsepsyon vizyon.' },
    action: { steps: ['Ouvri Claude.ai oswa ChatGPT', '"Bati yon post pou biznis mwen sou ______"', 'Ranplase ___ ak biznis ou', 'Pataje pi bon post la!'] }
  },
  { day: 21, week: 5, title: 'Dataset', quote: '"Bon kalite done = bon rezilta!"',
    content: `<p>Dataset se yon koleksyon done √≤ganize k ap s√®vi pou antrene yon mod√®l AI. Kalite done = kalite AI.</p>`,
    concepts: [
      { title: 'Kalite done enp√≤tan', body: 'Bon done ‚Üí bon AI. Move done ‚Üí move AI. "Garbage in, garbage out".' },
      { title: 'Krey√≤l Dataset', body: 'Hugging Face gen k√®k done Krey√≤l. Krey√≤lAIHub ap bati plis. Ou ka kontribye!' },
    ],
    story: { who: 'Rico nan Gona√Øves', text: 'Rico kenbe yon tablo lavant chak jou. Sa vin "dataset" li pou konprann ki pwodwi ki vann pi byen epi ki mwa ki pi pwofitab.' },
    action: { steps: ['Kreye yon ti dataset 10 liy', 'Egzanp: 10 depans ou te f√® sem√®n sa a', 'N√≤m | Montan | Kategori | Dat', 'Sa se ou k ap vin data scientist!'] }
  },
  { day: 22, week: 5, title: 'Prompt Engineering', quote: '"Pale ak AI byen... resevwa sa w vle!"',
    content: `<p>Prompt Engineering se atizana pou pale ak AI yon fason ki ba ou pi bon rezilta. Men ki kle: klate, kont√®ks, f√≤ma.</p>`,
    concepts: [
      { title: '‚ùå Move Prompt', body: '"F√® logo" ‚Äî Two jeneral, AI pa konnen ki biznis, ki estil, ki koul√®.' },
      { title: '‚úÖ Bon Prompt', body: '"F√® yon logo pou restoran griyo, estil mod√®n, koul√® cho (rouge, orange), ak yon ti pye bwa Ayisyen."' },
    ],
    story: { who: 'Josu√© nan Paris', text: 'Josu√© chanje yon prompt de mo an yon paragraph detaye. Rezilta AI a te 10√ó pi bon. Menm zouti, diferan rezilta.' },
    action: { steps: ['Eseye move prompt: "Ekri yon post"', 'Kounye a eseye bon prompt ak detay', 'Konpare 2 rezilta yo', 'üéØ Defi: Pataje meye prompt ou sou Discord!'] }
  },
  { day: 23, week: 5, title: 'F√≤mil Bon Prompt', quote: '"F√≤mil sekir√® pou repons ekstra√≤din√®..."',
    content: `<p>F√≤mil 5 etap la se kle pou jwenn repons espesifik, itil, epi pwofesyon√®l nan nenp√≤t AI.</p>`,
    concepts: [
      { title: 'F√≤mil: W√≤l + Objektif + Kont√®ks + Limit + F√≤ma', body: '"Ou se yon [w√≤l]. [Objektif]. [Kont√®ks/Limit]. Reponn nan f√≤m [f√≤ma]."' },
      { title: 'Egzanp konpl√®', body: '"Ou se yon konseye maketing pou biznis Ayisyen. Ekri 5 ide post Instagram pou boutik rad, piblik: fanm 25-40 an, an Krey√≤l, yon fraz chak."' },
    ],
    story: { who: 'Tina', text: 'Tina itilize f√≤mil la pou ekri anons. AI bay repons pi estriktire. Li poste san konfizyon epi vann pi plis.' },
    action: { steps: ['Teste f√≤mil la yon fwa jodi a', 'W√≤l + Objektif + Kont√®ks + Limit + F√≤ma', 'Ekri: "Mwen teste f√≤mil la!"'] }
  },
  { day: 24, week: 5, title: 'LLM ‚Äî Gwo Mod√®l Langaj', quote: '"Gwo s√®vo ki aprann nan tout t√®ks ent√®n√®t la..."',
    content: `<p>LLM (Large Language Model) se gwo mod√®l AI ki te antrene sou plizy√® milya mo pou konprann ak jeneere lang imen.</p>`,
    concepts: [
      { title: 'Ki LLM ou konnen?', body: 'ChatGPT (OpenAI) ‚Ä¢ Claude (Anthropic) ‚Ä¢ Gemini (Google) ‚Ä¢ Grok (X.AI) ‚Ä¢ Meta AI' },
      { title: 'Sa LLM ka f√®', body: 'Reponn kesyon konpl√®ks ‚Ä¢ Ekri & rezime ‚Ä¢ Tradui ‚Ä¢ Planifye ‚Ä¢ Analize done' },
    ],
    story: { who: 'Josu√© nan Paris', text: 'Josu√© itilize LLM pou prepare ent√®vyou travay. Li mande 20 kestyon ent√®vyou + repons + kons√®y. Li jwenn dj√≤b la.' },
    action: { steps: ['Mande yon LLM: "F√® m 5 kestyon ent√®vyou pou ____"', 'Ranplase ____ ak travay ou vle a', 'Konpare ChatGPT ak Claude'] }
  },
  { day: 25, week: 5, title: 'Kijan LLM Fonksyone?', quote: '"Token pa token... mo pa mo..."',
    content: `<p>LLM travay an kase t√®ks an "tokens" (ti moso), epi li predi ki token ki pi pwobal apre chak token.</p>`,
    concepts: [
      { title: 'Token = ti moso mo', body: '"Bonjou" = 1 token. "Krey√≤lAIHub" = 3 tokens. Plis tokens = plis kalkil = pi koute ch√®.' },
      { title: 'Prediksyon sekans', body: '"Mwen renmen ____" ‚Üí AI kalkile: "manje" (40%), "muzik" (25%), "Ayiti" (20%)... Li chwazi "manje".' },
    ],
    story: { who: 'Mika', text: 'Mika remake repons AI yo depann de fason li poze kestyon. "Eksplike AI tankou mwen gen 10 an" bay repons pi senp. Bon kestyon = bon repons.' },
    action: { steps: ['Poze menm kestyon 2 fason diferan', 'Fason 1: "Ki sa ki ML?"', 'Fason 2: "Eksplike ML tankou mwen gen 10 an"', 'Konpare repons yo!'] }
  },
  { day: 26, week: 6, title: 'AI nan Travay', quote: '"AI = asistan pwofesyon√®l... ekonomize tan!"',
    content: `<p>AI ka ede ou f√® travay pou ou pi vit, pi pwofesyon√®l, epi ak plis val√® ‚Äî nan tout dom√®n.</p>`,
    concepts: [
      { title: 'Travay AI ka f√®', body: 'Ekri email pwofesyon√®l ‚Ä¢ Rezime long dokiman ‚Ä¢ Prepare rap√≤ ‚Ä¢ Planifye pwoj√® ‚Ä¢ Tradui' },
      { title: 'Pi bon pratik', body: 'Itilize AI k√≤m asistan, pa k√≤m ranplasman. Toujou revize epi adapte rezilta yo.' },
    ],
    story: { who: 'Claudine nan Lond', text: 'Claudine itilize AI pou ekri email pi rapid. Li re-li epi adapte. Li ekonomize 30-60 minit pa jou ‚Äî sa f√® diferans!' },
    action: { steps: ['Pran 1 mesaj ou dwe ekri jodi a', 'Mande AI: "Re-ekri li pi pwofesyon√®l, kout"', 'Revize ak adapte', 'Voye!'] }
  },
  { day: 27, week: 6, title: 'AI pou Aprann', quote: '"Yon pwofes√® prive... 24/7, gratis!"',
    content: `<p>AI ka s√®vi k√≤m pwofes√® p√®son√®l ou ‚Äî eksplike kons√®p, kreye egz√®sis, korije repons ou, epi adapte a nivo ou.</p>`,
    concepts: [
      { title: 'AI k√≤m pwofes√®', body: '"Eksplike m kalkil tankou mwen pa te janm f√® maths." AI adapte nivo a ou.' },
      { title: 'Teknik kle', body: 'Mande AI kreye kwiz ‚Ä¢ Mande l korije t√®ks ou ‚Ä¢ Mande l explike nan Krey√≤l' },
    ],
    story: { who: 'Samuel nan Hinche', text: 'Samuel ap prepare egzamen. Li itilize AI pou f√® kwiz ak koreksyon chak swa. Li aprann 3√ó pi vit paske li ka pratike nenp√≤t ki l√®.' },
    action: { steps: ['Mande AI: "F√® m 5 kestyon kwiz sou ____"', 'Ranplase ____ ak matye ou etidye', 'Reponn, epi mande koreksyon', 'Repete chak jou!'] }
  },
  { day: 28, week: 6, title: 'AI pou Kreyativite', quote: '"AI = patn√® kreyatif... lide san limit!"',
    content: `<p>AI ka ede kreye pi vit ak plis varyasyon ‚Äî men kreyativite imen rete fondamantal. AI se zouti, ou se atis la.</p>`,
    concepts: [
      { title: 'Dom√®n kreyatif AI ede', body: 'Design (Canva AI) ‚Ä¢ Mizik (Suno) ‚Ä¢ Videyo (Runway) ‚Ä¢ T√®ks (ChatGPT) ‚Ä¢ K√≤d (GitHub Copilot)' },
      { title: 'Ti Rebel Music k√≤m egzanp', body: 'Kreye mizik Konpa orijinal ak AI ‚Äî eksprime kilti Ayisyen atrav√® nouvo teknoloji.' },
    ],
    story: { who: 'Tina nan Miami', text: 'Tina kreye 3 design pou boutik li an 1 z√®dtan ak Canva AI. Anvan li ta pran 1 jou. AI pa ranplase kreyativite li ‚Äî li akselere l.' },
    action: { steps: ['Ekri 1 lide kontni pou paj ou', 'Mande AI pou 5 varyasyon caption', 'Chwazi pi bon an', 'Poste!'] }
  },
  { day: 29, week: 6, title: 'Risk yo', quote: '"Chak zouti gen risk... ann pwoteje t√®t nou!"',
    content: `<p>AI gen gwo pouvwa ‚Äî men li gen risk rey√®l tou. F√≤ ou konnen risk yo pou pwoteje t√®t ou ak fanmi ou.</p>`,
    concepts: [
      { title: 'Risk yo', body: 'Fo enf√≤masyon (hallucination) ‚Ä¢ Scam ak phishing AI ‚Ä¢ P√®t done p√®son√®l ‚Ä¢ Bias ak diskriminasyon ‚Ä¢ Depandans tw√≤p sou AI' },
      { title: 'Pwoteksyon', body: 'Verifye enf√≤masyon AI bay ‚Ä¢ Pa janm pataje k√≤d OTP ‚Ä¢ Pa ba AI done sansib ‚Ä¢ Double-check repons enp√≤tan' },
    ],
    story: { who: 'Nadia', text: 'Nadia te pr√®ske voye k√≤d WhatsApp li bay yon mesaj ki te sanble yon zanmi. Li sonje r√®g: pa janm pataje OTP. Li evite yon gwo scam.' },
    action: { steps: ['Ekri 2 risk AI ou te w√® oswa ou p√®', 'Pou chak risk, ekri 1 solisyon', 'Pataje pwoteksyon ou nan Discord!'] }
  },
  { day: 30, week: 6, title: 'Prepare pou Lavni', quote: '"Ou fini 30 jou... men vwayaj la k√≤manse!"',
    content: `<p>Felisitasyon! Ou te fini 30 jou AI an Krey√≤l. Men sa ki vin apre...</p>`,
    concepts: [
      { title: 'Kontinye aprann', body: 'AI evolye rapid. Suiv Krey√≤lAIHub pou d√®nye zouti ak tendans.' },
      { title: 'Pratike chak jou', body: 'Itilize AI pou yon bagay rey√®l chak jou. Pratik = meytrize.' },
      { title: 'Anseye 1 moun', body: 'Meye fason pou aprann = anseye. Pataje konesans ou ak kominote a.' },
    ],
    story: { who: 'Ou menm!', text: 'Ou menm ki fini 30 jou yo, ou deja diferan de moun ki pa te f√® ef√≤ sa a. Ou ka ede 1 moun konprann AI an Krey√≤l. Se konsa mouvman an grandi.' },
    action: { steps: ['Ekri: "Mwen fini 30 JOU AI!"', 'Pataje seri a ak 1 moun', 'Ale pran S√®tifika ou sou platf√≤m nan', 'üá≠üáπ Ou se yon pyonye!'] }
  },
];

const QUIZ_QUESTIONS = [
  { q: 'Ki sa ki AI (Ent√®lijans Atifisy√®l)?', opts: ['Yon pwogram ki aprann nan done pou ede moun', 'Yon w√≤b√≤ fizik', 'Yon kalkilatris avanse', 'Ent√®n√®t'], ans: 0, exp: 'AI se sist√®m ki aprann nan done epi pran desizyon ‚Äî pa yon w√≤b√≤ fizik oswa yon kalkilatris senp.' },
  { q: 'Ki sa "done" (data) ye nan kont√®ks AI?', opts: ['S√®lman nimewo ak statistik', 'Foto, t√®ks, son, videyo, nimewo ‚Äî tout enf√≤masyon', 'S√®lman t√®ks ekri', 'S√®lman imaj'], ans: 1, exp: 'Done kapab nenp√≤t enf√≤masyon: foto ou pran, mesaj ou ekri, son ou tande, videyo...' },
  { q: 'Ki diferans ant Machine Learning ak Deep Learning?', opts: ['Pa gen diferans', 'Deep Learning se ML ak anpil "kouch" ki ba li plis kapasite pou pwobl√®m konpl√®ks', 'Machine Learning se plis avanse', 'Deep Learning se pou w√≤b√≤ s√®lman'], ans: 1, exp: 'Deep Learning itilize anpil "kouch" nan rezo newonal ki ba li kapasite pou trete imaj, son, ak t√®ks konpl√®ks.' },
  { q: 'Kisa ki "Supervised Learning"?', opts: ['AI aprann san done', 'AI aprann ak done ki deja gen repons k√≤r√®kt (etikete)', 'AI aprann nan er√® s√®lman', 'AI aprann ak vwa imen'], ans: 1, exp: 'Supervised Learning: ou montre AI "Sa se spam / Pa spam". Li aprann pou predi repons nouvo done.' },
  { q: 'Ki sa Reinforcement Learning f√®?', opts: ['Li aprann ak done etikete s√®lman', 'Li aprann pou maximize rekonpans atrav√® eseye-er√®', 'Li tradui lang', 'Li rekonesan imaj'], ans: 1, exp: 'RL aprann tankou yon jw√® ech√®k: eseye, resevwa pwen oswa penalite, epi amelyore chak fwa.' },
  { q: 'Ki sa ki "bias" nan AI?', opts: ['Yon tip pwogram espesyal', 'L√® mod√®l produi rezilta ki pa jis akoz done pa ekilibre', 'Yon f√≤m kreyativite AI', 'Yon ekipman fizik'], ans: 1, exp: 'Bias vini l√® done f√≤masyon pa reprezante tout gwoup egalman ‚Äî tankou si tout dokt√® nan done yo se gason.' },
  { q: 'Ki sa "Prompt Engineering" ye?', opts: ['Bati yon w√≤b√≤', 'Atizana pou pale ak AI yon fason ki ba ou pi bon rezilta', 'Pwogramason Python avanse', 'Kreye done pou AI'], ans: 1, exp: 'Bon prompt = bon repons. Prompt Engineering se aprann kijan pou ba AI bon kont√®ks, klate, ak f√≤ma.' },
  { q: 'Kisa LLM vle di?', opts: ['Long Language Machine', 'Large Language Model ‚Äî gwo mod√®l ki aprann nan milya mo', 'Lakay Language Module', 'Lightweight Learning Module'], ans: 1, exp: 'LLM = Large Language Model. ChatGPT, Claude, Gemini, ak Grok se tout egzanp LLM.' },
  { q: 'Ki f√≤mil 5 etap pou bon prompt?', opts: ['Kesyon + Repons + Revize', 'W√≤l + Objektif + Kont√®ks + Limit + F√≤ma', 'Sujet + Verbe + Obj√®', 'T√®ks + Imaj + Son'], ans: 1, exp: 'F√≤mil 5 etap: "Ou se [W√≤l]. [Objektif]. [Kont√®ks/Limit]. Reponn nan f√≤m [F√≤ma]."' },
  { q: 'Ki sa Generative AI ka kreye?', opts: ['S√®lman t√®ks', 'T√®ks, imaj, mizik, videyo, ak k√≤d', 'S√®lman imaj', 'S√®lman k√≤d'], ans: 1, exp: 'Generative AI ka kreye: t√®ks (ChatGPT), imaj (DALL-E), mizik (Suno), videyo (Runway), k√≤d (Copilot).' },
  { q: 'Ki risk rey√®l nan itilizasyon AI?', opts: ['Okenn risk', 'Fo enf√≤masyon, scam, p√®t done p√®son√®l, ak depandans tw√≤p sou AI', 'AI ka ranplase tout moun nan 1 an', 'S√®lman pwobl√®m teknik'], ans: 1, exp: 'Risk rey√®l: AI ka bay fo enf√≤masyon (hallucination), ka s√®vi pou scam, epi nou dwe pwoteje done p√®son√®l nou.' },
  { q: 'Poukisa done an Krey√≤l enp√≤tan pou AI?', opts: ['Li pa enp√≤tan ditou', 'Plis done Krey√≤l = AI ki pi presi ak itil pou kominote Krey√≤l la', 'AI pa bezwen done lang', 'S√®lman pou tradiksyon'], ans: 1, exp: 'Done an Krey√≤l ede mod√®l AI aprann lang nou. Chak t√®ks an Krey√≤l nou ekri kontribye pou lavni AI Krey√≤l.' },
];

// ================================================
// üóÉÔ∏è  STATE ‚Äî Variables that track what's happening
// ================================================
// currentUser  ‚Üí the logged-in user object {name, email}
// progress     ‚Üí object tracking completed lessons
// currentLesson ‚Üí index of currently open lesson
// ================================================
let currentUser = null;
let progress = {};
let currentLesson = 0;
let currentView = 'dashboard';
let kwizState = { current: 0, answers: [], started: false, completed: false };

// ================================================
// üîê AUTH FUNCTIONS
// ================================================
// gateSignup()  ‚Üí creates account, saves to localStorage
// gateLogin()   ‚Üí checks saved account, logs user in
// initUser()    ‚Üí runs after login, loads progress, shows app
// logout()      ‚Üí clears localStorage, reloads page
// ================================================
// Reuse SUPABASE_URL/KEY from above
let sb2 = null;
try { sb2 = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY); } catch {}

function gateTab(t) {
  const isS = t === 'signup';
  document.getElementById('gate-tab-signup').classList.toggle('active', isS);
  document.getElementById('gate-tab-login').classList.toggle('active', !isS);
  document.getElementById('gate-signup').style.display = isS ? 'block' : 'none';
  document.getElementById('gate-login').style.display = isS ? 'none' : 'block';
  document.getElementById('gate-msg').style.display = 'none';
}

function showGateMsg(msg, type) {
  const el = document.getElementById('gate-msg');
  el.textContent = msg; el.className = 'auth-msg ' + type; el.style.display = 'block';
}

function gateSignup() {
  const name = document.getElementById('g-name').value.trim();
  const email = document.getElementById('g-email').value.trim();
  const pass = document.getElementById('g-pass').value;
  if (!name || !email || !pass) return showGateMsg('Ranpli tout chan yo.', 'error');
  if (pass.length < 6) return showGateMsg('Modpas dwe gen omwen 6 karakt√®.', 'error');

  // Save account locally ‚Äî always works, even offline
  localStorage.setItem('kah_user', JSON.stringify({ name, email, enrolled: new Date().toISOString() }));

  // Fire-and-forget to Gmail ‚Äî NEVER blocks the user
  try {
    const fd = new FormData();
    fd.append('email', email);
    fd.append('name', name);
    fd.append('source', 'course_signup');
    fd.append('enrolled', new Date().toLocaleString());
    fd.append('_subject', 'üéì Nouvo Etidyan ‚Äî KreyolAI Academy: ' + name);
    fetch('https://formspree.io/f/xojnlklz', {
      method: 'POST', body: fd, headers: { 'Accept': 'application/json' }
    }).catch(function() {});
  } catch(e) {}

  // Go immediately ‚Äî no waiting
  initUser({ name, email });
}

function gateLogin() {
  const email = document.getElementById('gl-email').value.trim();
  const pass = document.getElementById('gl-pass').value;
  if (!email || !pass) return showGateMsg('Ranpli tout chan yo.', 'error');

  const stored = localStorage.getItem('kah_user');
  if (stored) {
    const user = JSON.parse(stored);
    if (user.email === email) { initUser(user); }
    else showGateMsg('Im√®l pa k√≤r√®k. Eseye ank√≤.', 'error');
  } else {
    showGateMsg('Kont pa jwenn. Enskri anvan.', 'error');
  }
}

function initUser(user) {
  currentUser = user;
  progress = JSON.parse(localStorage.getItem('kah_progress_' + user.email) || '{}');
  document.getElementById('auth-gate').classList.add('hidden');
  document.getElementById('app').classList.add('visible');
  document.getElementById('sidebar-name').textContent = user.name;
  document.getElementById('user-avatar').textContent = user.name[0].toUpperCase();
  renderSidebar();
  showView('dashboard');
}

function logout() {
  if (sb2) sb2.auth.signOut();
  localStorage.removeItem('kah_user');
  location.reload();
}

// ================================================
// üìà PROGRESS TRACKING
// ================================================
// Progress is saved in browser localStorage
// Key format: "kah_progress_EMAIL" ‚Üí {day_1: true, day_2: true...}
// saveProgress() ‚Üí writes to localStorage
// markDone(day)  ‚Üí marks a lesson complete
// updateProgressBar() ‚Üí updates the % bar in sidebar
// ================================================
function saveProgress() {
  if (currentUser) localStorage.setItem('kah_progress_' + currentUser.email, JSON.stringify(progress));
}
function markDone(day) {
  progress['day_' + day] = true;
  saveProgress();
  updateProgressBar();
  renderSidebar();
}
function updateProgressBar() {
  const done = Object.keys(progress).filter(k => k.startsWith('day_')).length;
  const pct = Math.round((done / 30) * 100);
  document.getElementById('prog-pct').textContent = pct + '%';
  document.getElementById('prog-bar').style.width = pct + '%';
}

// ================================================
// üìã SIDEBAR RENDERER
// ================================================
// renderSidebar() ‚Üí builds the lesson list HTML
// Completed lessons show a ‚úì checkmark
// Current lesson is highlighted in blue
// ================================================
function renderSidebar() {
  const nav = document.getElementById('sidebar-nav');
  let html = '';
  WEEKS.forEach(w => {
    html += `<div class="nav-section-title">Sem√®n ${w.num}: ${w.title}</div>`;
    LESSONS.filter(l => l.week === w.num).forEach(l => {
      const done = !!progress['day_' + l.day];
      html += `<div class="nav-item ${currentLesson === l.day - 1 ? 'active' : ''} ${done ? 'done' : ''}" onclick="openLesson(${l.day - 1})">
        <span class="day-num">${l.day}</span>
        <span class="item-title">${l.title}</span>
        <span class="check">${done ? '‚úì' : ''}</span>
      </div>`;
    });
  });
  nav.innerHTML = html;
  updateProgressBar();
}

// ================================================
// üëÅÔ∏è  VIEWS ‚Äî Which screen to show
// ================================================
// showView(v) where v = "dashboard" | "lesson" | "kwiz" | "cert"
// openLesson(idx) ‚Üí opens a specific lesson by index
// ================================================
function showView(v) {
  currentView = v;
  if (v === 'dashboard') renderDashboard();
  else if (v === 'lesson') renderLesson(currentLesson);
  else if (v === 'kwiz') renderKwiz();
  else if (v === 'cert') renderCert();
}

function openLesson(idx) {
  currentLesson = idx;
  currentView = 'lesson';
  renderSidebar();
  renderLesson(idx);
}

// ================================================
// üè† DASHBOARD ‚Äî Home screen after login
// ================================================
// Shows: welcome message, progress %, weekly breakdown
// renderDashboard() ‚Üí generates the HTML
// ================================================
function renderDashboard() {
  const done = Object.keys(progress).filter(k => k.startsWith('day_')).length;
  document.getElementById('main-content').innerHTML = `
    <div>
      <h1 style="font-size:2rem;margin-bottom:0.25rem">Bonjou, ${currentUser.name.split(' ')[0]}! üëã</h1>
      <p style="color:var(--white-dim)">Kontinye aprantisaj ou ‚Äî ${30 - done} jou rete</p>
      <div style="display:flex;gap:1.5rem;margin:2rem 0;flex-wrap:wrap">
        <div style="background:var(--white-faint);border:1px solid var(--border);border-radius:16px;padding:1.25rem 2rem;text-align:center">
          <div style="font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--blue)">${done}</div>
          <div style="font-size:0.8rem;color:var(--white-dim)">Jou Konpl√®</div>
        </div>
        <div style="background:var(--white-faint);border:1px solid var(--border);border-radius:16px;padding:1.25rem 2rem;text-align:center">
          <div style="font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--gold)">${30-done}</div>
          <div style="font-size:0.8rem;color:var(--white-dim)">Jou Rete</div>
        </div>
        <div style="background:var(--white-faint);border:1px solid var(--border);border-radius:16px;padding:1.25rem 2rem;text-align:center">
          <div style="font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--success)">${Math.round(done/30*100)}%</div>
          <div style="font-size:0.8rem;color:var(--white-dim)">Konpl√®</div>
        </div>
      </div>
      ${done < 30 ? `<div style="background:rgba(30,144,255,0.08);border:1px solid var(--border);border-radius:16px;padding:1.25rem;margin-bottom:2rem;cursor:pointer" onclick="openLesson(${done})">
        <div style="font-size:0.75rem;font-weight:700;color:var(--blue);letter-spacing:0.08em;margin-bottom:0.4rem">‚ñ∂ KONTINYE</div>
        <div style="font-weight:700">Jou ${done+1}: ${LESSONS[done].title}</div>
        <div style="color:var(--white-dim);font-size:0.85rem">${LESSONS[done].quote}</div>
      </div>` : `<div style="text-align:center;padding:2rem;background:rgba(34,197,94,0.08);border:1px solid rgba(34,197,94,0.2);border-radius:16px;margin-bottom:2rem">
        <div style="font-size:2rem">üèÜ</div><h3>Ou fini tout 30 jou! Pran s√®tifika ou!</h3>
        <button class="btn-gold" onclick="showView('cert')" style="margin-top:1rem">Telechaje S√®tifika ‚Üí</button>
      </div>`}
      <h2 style="font-size:1.2rem;margin-bottom:1rem">Tout Sem√®n yo</h2>
      <div class="dashboard-grid">
        ${WEEKS.map(w => {
          const wdays = LESSONS.filter(l => l.week === w.num);
          const wdone = wdays.filter(l => !!progress['day_' + l.day]).length;
          const wpct = Math.round(wdone/wdays.length*100);
          return `<div class="week-card ${wpct===100?'completed':''}" onclick="openLesson(${wdays[0].day-1})">
            <div class="week-num" style="color:${w.color}">${w.num}</div>
            <div class="week-title">${w.title}</div>
            <div class="week-days">Jou ${w.days} ‚Ä¢ ${wdone}/${wdays.length} konpl√®</div>
            <div class="week-prog"><div class="week-fill" style="width:${wpct}%;background:${w.color}"></div></div>
          </div>`;
        }).join('')}
      </div>
    </div>`;
}

// ================================================
// üìñ LESSON VIEWER
// ================================================
// renderLesson(idx) ‚Üí shows lesson content + action task
// completeLesson(day) ‚Üí marks done, moves to next or quiz
// ‚úèÔ∏è  TO CHANGE LESSON CONTENT: edit the lessons[] array above
// ================================================
function renderLesson(idx) {
  const l = LESSONS[idx];
  const done = !!progress['day_' + l.day];
  const prev = idx > 0;
  const next = idx < LESSONS.length - 1;

  let conceptsHtml = (l.concepts || []).map(c => `
    <div class="concept-box">
      <div class="concept-title">‚Üí ${c.title}</div>
      <p>${c.body}</p>
    </div>`).join('');

  let storyHtml = l.story ? `
    <div class="real-story">
      <div class="story-label">üìñ ISTWA REY√àL ‚Äî ${l.story.who}</div>
      <p>${l.story.text}</p>
    </div>` : '';

  let actionHtml = l.action ? `
    <div class="action-box">
      <div class="action-label">‚ö° AKSYON JOU A</div>
      <ul class="action-steps">
        ${l.action.steps.map((s,i) => `<li data-n="${i+1}">${s}</li>`).join('')}
      </ul>
    </div>` : '';

  let codeHtml = l.code ? `<div class="code-block">${l.code.replace(/</g,'&lt;').replace(/>/g,'&gt;')}</div>` : '';

  document.getElementById('main-content').innerHTML = `
    <div>
      <div class="lesson-header">
        <div>
          <div class="lesson-badge">JOU ${l.day} ‚Äî SEM√àN ${l.week}</div>
          <h1 class="lesson-title">${l.title}</h1>
          <p class="lesson-quote">${l.quote}</p>
        </div>
        ${done ? '<div style="color:var(--success);font-weight:700;font-size:1.5rem">‚úì</div>' : ''}
      </div>
      <div class="lesson-body">
        ${l.content}
        ${conceptsHtml}
        ${codeHtml}
        ${storyHtml}
        ${actionHtml}
      </div>
      <div class="nav-btns" style="margin-top:2.5rem">
        ${prev ? `<button class="btn-secondary" onclick="openLesson(${idx-1})">‚Üê Jou ${l.day-1}</button>` : ''}
        ${!done ? `<button class="complete-btn" onclick="completeLesson(${l.day})">‚úì Mwen f√® l! Kontinye ‚Üí</button>` : ''}
        ${done && next ? `<button class="btn-primary" onclick="openLesson(${idx+1})">Jou ${l.day+1}: ${LESSONS[idx+1].title} ‚Üí</button>` : ''}
        ${done && !next ? `<button class="btn-gold" onclick="showView('kwiz')">F√® Kiz Final ‚Üí</button>` : ''}
      </div>
    </div>`;
}

function completeLesson(day) {
  markDone(day);
  toast('‚úì Jou ' + day + ' konpl√®! Ekselant! üéâ');
  const idx = day - 1;
  if (idx < LESSONS.length - 1) openLesson(idx + 1);
  else showView('kwiz');
}

// ================================================
// üìù KWIZ ‚Äî Final quiz (30 questions)
// ================================================
// Questions are in the kwizQuestions[] array below
// renderKwiz() ‚Üí shows questions one by one
// Score 80%+ ‚Üí unlocks the certificate
// ‚úèÔ∏è  TO CHANGE QUESTIONS: find kwizQuestions[] below
// ================================================
function renderKwiz() {
  const totalDone = Object.keys(progress).filter(k => k.startsWith('day_')).length;
  if (kwizState.completed) return renderKwizScore();

  if (!kwizState.started) {
    document.getElementById('main-content').innerHTML = `
      <div class="kwiz-container">
        <h1 style="font-size:2rem;margin-bottom:0.5rem">üìù Kiz Final ‚Äî 30 Jou AI</h1>
        <p style="color:var(--white-dim);margin-bottom:2rem">12 kestyon pou teste konesans ou. Ou bezwen 70% pou pase.</p>
        <div style="background:var(--white-faint);border:1px solid var(--border);border-radius:20px;padding:2rem;margin-bottom:1.5rem">
          <div style="font-weight:700;margin-bottom:0.5rem">üìã Enf√≤masyon</div>
          <div style="color:var(--white-dim);font-size:0.9rem;line-height:1.8">
            ‚Ä¢ 12 kestyon sou tout 30 jou<br>
            ‚Ä¢ Yon repons s√®l pou chak kestyon<br>
            ‚Ä¢ 70% (9/12) = pase<br>
            ‚Ä¢ Ou ka repran kiz la si ou echwe
          </div>
        </div>
        ${totalDone < 15 ? '<div style="background:rgba(245,185,66,0.1);border:1px solid rgba(245,185,66,0.25);border-radius:12px;padding:1rem;margin-bottom:1.5rem;color:var(--gold);font-size:0.88rem">‚ö†Ô∏è Rek√≤mandasyon: Konplete plis leson anvan kiz la pou pi bon chans ou.</div>' : ''}
        <button class="btn-primary" style="min-width:220px" onclick="startKwiz()">K√≤manse Kiz la ‚Üí</button>
      </div>`;
    return;
  }
  renderKwizQuestion();
}

function startKwiz() {
  kwizState = { current: 0, answers: new Array(QUIZ_QUESTIONS.length).fill(null), started: true, completed: false };
  renderKwizQuestion();
}

function renderKwizQuestion() {
  const { current, answers } = kwizState;
  const q = QUIZ_QUESTIONS[current];
  const answered = answers[current] !== null;

  const dots = QUIZ_QUESTIONS.map((_, i) => `<div class="q-dot ${i < current ? 'done' : i === current ? 'active' : ''}"></div>`).join('');

  const opts = q.opts.map((o, i) => {
    let cls = 'option';
    if (answered) {
      if (i === q.ans) cls += ' correct';
      else if (i === answers[current]) cls += ' wrong';
    } else if (answers[current] === i) cls += ' selected';
    return `<div class="${cls}" onclick="${!answered ? `selectAnswer(${i})` : ''}">
      <div class="opt-letter">${['A','B','C','D'][i]}</div>
      <span>${o}</span>
    </div>`;
  }).join('');

  document.getElementById('main-content').innerHTML = `
    <div class="kwiz-container">
      <div class="kwiz-header">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem">
          <span style="font-size:0.85rem;color:var(--white-dim)">Kestyon ${current+1} sou ${QUIZ_QUESTIONS.length}</span>
          <span style="font-size:0.85rem;color:var(--white-dim)">${kwizState.answers.filter(a=>a!==null).length} reponn</span>
        </div>
        <div class="kwiz-progress">${dots}</div>
      </div>
      <div class="question-card">
        <div class="question-text">${q.q}</div>
        <div class="options">${opts}</div>
        ${answered ? `<div class="explanation" style="display:block">üí° ${q.exp}</div>` : ''}
      </div>
      <div style="display:flex;gap:1rem;flex-wrap:wrap">
        ${current > 0 ? `<button class="btn-secondary" onclick="kwizNav(${current-1})">‚Üê Anvan</button>` : ''}
        ${answered && current < QUIZ_QUESTIONS.length-1 ? `<button class="btn-primary" onclick="kwizNav(${current+1})">Pwochen ‚Üí</button>` : ''}
        ${answered && current === QUIZ_QUESTIONS.length-1 ? `<button class="btn-gold" onclick="finishKwiz()">W√® Rezilta ‚Üí</button>` : ''}
      </div>
    </div>`;
}

function selectAnswer(i) {
  kwizState.answers[kwizState.current] = i;
  renderKwizQuestion();
}

function kwizNav(idx) { kwizState.current = idx; renderKwizQuestion(); }

function finishKwiz() {
  kwizState.completed = true;
  progress['kwiz_done'] = true;
  const score = kwizState.answers.filter((a,i) => a === QUIZ_QUESTIONS[i].ans).length;
  progress['kwiz_score'] = score;
  saveProgress();
  renderKwizScore();
}

function renderKwizScore() {
  const score = progress['kwiz_score'] || 0;
  const total = QUIZ_QUESTIONS.length;
  const pct = Math.round((score/total)*100);
  const passed = pct >= 70;

  document.getElementById('main-content').innerHTML = `
    <div class="kwiz-container">
      <div class="score-card">
        <div class="score-ring ${passed?'pass':'fail'}">
          <span class="score-num" style="color:${passed?'var(--success)':'#ef4444'}">${pct}%</span>
        </div>
        <h2 style="font-size:1.8rem;margin-bottom:0.5rem">${passed ? 'üéâ Felisitasyon! Ou Pase!' : 'üí™ Eseye Ank√≤!'}</h2>
        <p style="color:var(--white-dim);margin-bottom:2rem">${score}/${total} k√≤r√®kt ‚Äî ${passed ? 'Ou merite s√®tifika ou!' : 'Ou bezwen 70%. Revize leson yo epi eseye ank√≤.'}</p>
        <div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap">
          ${passed ? `<button class="btn-gold" onclick="showView('cert')">üèÜ Pran S√®tifika Ou ‚Üí</button>` : `<button class="btn-primary" onclick="restartKwiz()">‚Ü∫ Eseye Ank√≤</button>`}
          <button class="btn-secondary" onclick="showView('dashboard')">‚Üê Retounen</button>
        </div>
      </div>
    </div>`;
}

function restartKwiz() {
  kwizState = { current: 0, answers: new Array(QUIZ_QUESTIONS.length).fill(null), started: true, completed: false };
  delete progress['kwiz_done'];
  delete progress['kwiz_score'];
  saveProgress();
  renderKwizQuestion();
}

// ============ CERTIFICATE ============
function renderCert() {
  const score = progress['kwiz_score'];
  const passed = score !== undefined && (score / QUIZ_QUESTIONS.length) >= 0.7;
  const totalDone = Object.keys(progress).filter(k => k.startsWith('day_')).length;
  const certName = currentUser?.name || '';
  const today = new Date().toLocaleDateString('fr-FR', { day:'numeric', month:'long', year:'numeric' });

  document.getElementById('main-content').innerHTML = `
    <div class="cert-section">
      <h1 style="font-size:2rem;margin-bottom:0.5rem">üèÜ S√®tifika Akonplisman</h1>
      <p style="color:var(--white-dim);margin-bottom:2rem">Antre non ou pou jeneere s√®tifika p√®sonalize ou.</p>
      <div class="cert-name-input">
        <input type="text" id="cert-name" value="${certName}" placeholder="Antre non konpl√® ou..." oninput="updateCertName()" />
      </div>
      <div style="position:relative">
        ${!passed ? `<div class="locked-overlay">
          <div style="font-size:3rem">üîí</div>
          <h3>S√®tifika v√®ouye</h3>
          <p>Konplete omwen 20 jou epi pase Kiz Final la (70%+) pou debwoke s√®tifika ou.</p>
          <div style="display:flex;gap:1rem;flex-wrap:wrap;justify-content:center">
            ${totalDone < 20 ? `<button class="btn-primary" onclick="openLesson(${totalDone})">Kontinye Leson ‚Üí</button>` : `<button class="btn-primary" onclick="showView('kwiz')">Pran Kiz Final ‚Üí</button>`}
          </div>
        </div>` : ''}
        <div class="cert-frame" id="cert-display">
          <div class="cert-badge">üèÜ</div>
          <div class="cert-brand">K R E Y √í L A I H U B . C O M</div>
          <div class="cert-heading">S√®tifika Akonplisman</div>
          <div class="cert-course">30 Jou AI</div>
          <div class="cert-sub">Premye Kou AI Konpl√® nan Lang Krey√≤l Ayisyen</div>
          <hr/>
          <div style="color:var(--white-dim);font-size:0.9rem">Prezante a</div>
          <div class="student-name" id="cert-name-display">${certName || 'Non Ou'}</div>
          <div style="margin:0.5rem 0;color:var(--white-dim);font-size:0.88rem">pou akonplisman ekselans nan</div>
          <div style="font-weight:700;color:var(--white)">Aprantisaj AI Fondamantal ‚Ä¢ ${totalDone}/30 Leson ‚Ä¢ ${score}/${QUIZ_QUESTIONS.length} Kiz</div>
          <hr/>
          <div class="cert-footer">
            <div>
              <div style="font-weight:700">Krey√≤lAIHub</div>
              <div>AI an Krey√≤l. San limit.</div>
            </div>
            <div style="text-align:right">
              <div class="cert-date">Dat: ${today}</div>
              <div style="font-size:0.7rem;margin-top:0.25rem;color:var(--blue)">kreyolaihub.com/sertifika</div>
            </div>
          </div>
        </div>
      </div>
      ${passed ? `
      <div class="cert-actions" style="margin-top:1.5rem">
        <button class="btn-gold" onclick="printCert()">üñ®Ô∏è Enprime / Sovgade PDF</button>
        <button class="btn-secondary" onclick="shareCert()">üì± Pataje</button>
      </div>` : ''}
    </div>`;
}

function updateCertName() {
  const name = document.getElementById('cert-name').value;
  const disp = document.getElementById('cert-name-display');
  if (disp) disp.textContent = name || 'Non Ou';
}

function printCert() {
  window.print();
}

function shareCert() {
  const name = document.getElementById('cert-name').value || currentUser?.name;
  const text = `üéâ Mwen fini kou 30 Jou AI an Krey√≤l sou @KreyolAIHub! AI an Krey√≤l. San limit. üá≠üáπ #30JouAI #KreyolAIHub kreyolaihub.com`;
  if (navigator.share) navigator.share({ title: 'S√®tifika 30 Jou AI', text });
  else { navigator.clipboard.writeText(text); toast('T√®ks kopye! Paste l sou rezo sosyal ou üìã'); }
}

// ============ UTILS ============
function toast(msg) {
  const t = document.getElementById('toast');
  document.getElementById('toast-msg').textContent = msg;
  t.style.transform = 'translateY(0)';
  setTimeout(() => { t.style.transform = 'translateY(100px)'; }, 4000);
}

// ============ INIT ============
window.addEventListener('load', () => {
  // Check if user already logged in
  const stored = localStorage.getItem('kah_user');
  if (stored) initUser(JSON.parse(stored));
});
</script>
</body>
</html>
